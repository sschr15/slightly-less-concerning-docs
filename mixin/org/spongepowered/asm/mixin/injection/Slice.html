<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Sat Nov 09 19:22:05 GMT 2019 -->
<title>Slice (Mixin 0.8.11 API)</title>
<meta name="date" content="2019-11-09">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Slice (Mixin 0.8.11 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/spongepowered/asm/mixin/injection/Redirect.html" title="annotation in org.spongepowered.asm.mixin.injection"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/spongepowered/asm/mixin/injection/Surrogate.html" title="annotation in org.spongepowered.asm.mixin.injection"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/spongepowered/asm/mixin/injection/Slice.html" target="_top">Frames</a></li>
<li><a href="Slice.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.spongepowered.asm.mixin.injection</div>
<h2 title="Annotation Type Slice" class="title">Annotation Type Slice</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Target(value={})
 @Retention(value=RUNTIME)
public @interface <span class="memberNameLabel">Slice</span></pre>
<div class="block">A <tt>Slice</tt> identifies a section of a method to search for injection
 points.
 
 <p>Using slices provides for a much more expressive way of identifying target
 injection points in a method, which has two advantages:</p>
 
 <ol>
   <li>Encoding assumptions about the structure of a method makes it easier to
   detect (and fail-fast) when a method has changed in an unexpected way.</li>
   <li>Injection points using slices are less brittle than points specified
   with large ordinals because they allow injection points to be specified
   with reference to characteristics of the method rather than arbitrary
   ordinal values.</li>
 </ol>
 
 <p>Consider the following example:</p>
 
 <blockquote><pre>
 private void foo(Bar bar) {
     bar.update();
     List&lt;Thing&gt; list = bar.getThings();
     for (Thing thing : list) {
         thing.<b>processStuff</b>();
     }
     
     Thing specialThing = bar.getSpecialThing();
     if (specialThing.isReady()) {
         specialThing.<b>processStuff</b>();
         bar.update();
     }
     
     bar.notifyFoo();
 }</pre></blockquote>
 
 <p>Let's assume we are interested in applying a <a href="../../../../../org/spongepowered/asm/mixin/injection/Redirect.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>Redirect</code></a> to the
 <tt>processStuff()</tt> method call within the <tt>if</tt> block. Using
 <tt>ordinal</tt> we can achieve this as follows:</p>
 
 <blockquote><pre>
 &#064;At(value = "INVOKE", target = "processStuff", ordinal = 1)</pre>
 </blockquote>
 
 <p>This will work fine initially. However consider the case that in a future
 version of the target library the method is altered and an additional call to
 <tt>processStuff()</tt> is added:</p>  
 
 <blockquote><pre>
 private void foo(Bar bar) {
     bar.update();
     List&lt;Thing&gt; list = bar.getThings();
     for (Thing thing : list) {
         thing.<b>processStuff</b>();
     }
     
     // A new call to processStuff, which now has the ordinal 1
     bar.getActiveThing().<b>processStuff</b>();
     
     Thing specialThing = bar.getSpecialThing();
     if (specialThing.isReady()) {
         specialThing.<b>processStuff</b>();
         bar.update();
     }
     
     bar.notifyFoo();
 }</pre></blockquote>
 
 <p>It's still pretty easy for a human to identify the correct point since the
 original <tt>if</tt> hasn't changed. However the use of ordinals means that
 the injection is now wrong and must be fixed by hand.</p>
 
 <p>We can make the injection point more expressive and reliable by using a
 <tt>Slice</tt>. We know in this example that the call to <tt>processStuff()
 </tt> we want is the one immediately after a call to <tt>isReady()</tt>. We
 can <em>slice</em> the method at the call to <tt>isReady()</tt> and modify
 the injector accordingly:</p>
 
 <blockquote><pre>
 &#064;Inject(
     slice = &#064;Slice(
         from = &#064;At(value = "INVOKE", target = "isReady")
     )
     at = &#064;At(value = "INVOKE", target = "processStuff", ordinal = 0)
 )</pre></blockquote>
 
 <p>The <tt>ordinal</tt> is specified as <tt>0</tt> because the scope of the
 injection point is now the region of the method defined by the <em>slice</em>
 .</p>
 
 <p>Slices can be specified using a <a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#from--"><code>from()</code></a> point, a <a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#to--"><code>to()</code></a> point,
 or both. <a href="../../../../../org/spongepowered/asm/mixin/injection/Inject.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>Callback Injectors</code></a> using multiple injection points
 can distinguish different slices using <a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#id--"><code>id()</code></a> and then specify the slice
 to use in the <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html#slice--"><code>At.slice()</code></a> argument.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection">At</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#from--">from</a></span></code>
<div class="block">Injection point which specifies the <em>start</em> of the slice region.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#id--">id</a></span></code>
<div class="block">The identifier for this slice, specified using the <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html#slice--"><code>At.slice()</code></a> value
 (if omitted, this slice becomes the <em>default slice</em> and applies to
 all undecorated <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>At</code></a> queries).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection">At</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#to--">to</a></span></code>
<div class="block">Injection point which specifies the <em>end</em> of the slice region.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="id--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>id</h4>
<pre>public abstract&nbsp;java.lang.String&nbsp;id</pre>
<div class="block">The identifier for this slice, specified using the <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html#slice--"><code>At.slice()</code></a> value
 (if omitted, this slice becomes the <em>default slice</em> and applies to
 all undecorated <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>At</code></a> queries).
 
 <p>This value can be safely ignored for injector types which only accept
 a single query (eg. <a href="../../../../../org/spongepowered/asm/mixin/injection/Redirect.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>Redirect</code></a> and others). However since
 <a href="../../../../../org/spongepowered/asm/mixin/injection/Inject.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>Inject</code></a> injectors can have multiple <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>At</code></a> queries, it may be
 desirable to have multiple slices as well. When specifying multiple
 slices, each should be designed a unique <tt>id</tt> which can then be
 referenced in the corresponding <tt>At</tt>.</p>
 
 <p>There are no specifications or restrictions for valid <tt>id</tt>s,
 however it is recommended that the <tt>id</tt> in some way describe the
 slice, thus allowing the <tt>At</tt> query to be read without necessarily
 reading the slice itself. For example, if the slice is selecting <em>all
 instructions before the first call to some method <tt>init</tt></em>,
 then using an id <tt>&quot;beforeInit</tt> makes sense. Using <em>before,
 after</em> and <em>between</em> prefixes as a loose standard is
 considered good practice.</p>
 
 <p>This value defaults to an empty string, the empty string is used as a
 default identifier throughout the injection subsystem, and any <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>At</code></a>
 which doesn't specify a slice explicitly will use this identifer.
 Specifying <tt>id</tt> or <tt>slice</tt> for injectors which only support
 a single slice is ignored internally, so you may use this field to give a
 descriptive name to the slice if you wish.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The identifier for this slice</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="from--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>from</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection">At</a>&nbsp;from</pre>
<div class="block">Injection point which specifies the <em>start</em> of the slice region.
 <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>At</code></a>s supplied here should generally specify a <a href="../../../../../org/spongepowered/asm/mixin/injection/InjectionPoint.Selector.html" title="enum in org.spongepowered.asm.mixin.injection"><code>InjectionPoint.Selector</code></a>
 in order to identify which instruction should be used for queries which
 return multiple results. The selector is specified by appending the
 selector type to the injection point type as follows:
 
 <blockquote><pre>&#064;At(value = "INVOKE:LAST", ... )</pre></blockquote>
 
 <p>If <tt>from</tt> is not supplied then <a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#to--"><code>to()</code></a> must be supplied. It
 is allowed to specify <b>both</b> <tt>from</tt> and <tt>to</tt> as long
 as the points select a region with positive size (eg the insn returned by
 <tt>to</tt> must appear after that selected by <tt>from</tt> in the
 method body).</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the start point of the slice</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>@org.spongepowered.asm.mixin.injection.At("HEAD")</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="to--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>to</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection">At</a>&nbsp;to</pre>
<div class="block">Injection point which specifies the <em>end</em> of the slice region.
 Like <a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#from--"><code>from()</code></a>, <a href="../../../../../org/spongepowered/asm/mixin/injection/At.html" title="annotation in org.spongepowered.asm.mixin.injection"><code>At</code></a>s supplied here should generally specify a
 <a href="../../../../../org/spongepowered/asm/mixin/injection/InjectionPoint.Selector.html" title="enum in org.spongepowered.asm.mixin.injection"><code>InjectionPoint.Selector</code></a> in order to identify which instruction should be used
 for queries which return multiple results. The selector is specified by
 appending the selector type to the injection point type as follows:
 
 <blockquote><pre>&#064;At(value = "INVOKE:LAST", ... )</pre></blockquote>
 
 <p>If <tt>to</tt> is not supplied then <a href="../../../../../org/spongepowered/asm/mixin/injection/Slice.html#from--"><code>from()</code></a> must be supplied. It
 is allowed to specify <b>both</b> <tt>from</tt> and <tt>to</tt> as long
 as the points select a region with positive size (eg the insn returned by
 <tt>to</tt> must appear <em>after</em> that selected by <tt>from</tt> in
 the method body).</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the start point of the slice</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>@org.spongepowered.asm.mixin.injection.At("TAIL")</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/spongepowered/asm/mixin/injection/Redirect.html" title="annotation in org.spongepowered.asm.mixin.injection"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/spongepowered/asm/mixin/injection/Surrogate.html" title="annotation in org.spongepowered.asm.mixin.injection"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/spongepowered/asm/mixin/injection/Slice.html" target="_top">Frames</a></li>
<li><a href="Slice.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
